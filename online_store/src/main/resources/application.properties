# ==============================================================
# CONFIGURACIÓN DEL SERVIDOR
# ==============================================================
server.port=8080
spring.application.name=online_store

# ==============================================================
# CONFIGURACIÓN DE BASE DE DATOS (MySQL Puerto 3307)
# ==============================================================
# Se añade allowPublicKeyRetrieval para el error de RSA y serverTimezone para JDK 25
spring.datasource.url=jdbc:mysql://127.0.0.1:3307/online_store?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=mjcuenca
spring.datasource.password=clave123
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ==============================================================
# CONFIGURACIÓN JPA / HIBERNATE 7 (Compatibilidad VPN/Empresa)
# ==============================================================
# Usamos el dialecto base para que Hibernate no intente leer tablas de sistema prohibidas
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# TRUCO CRÍTICO: Evita que Hibernate consulte metadatos que dan error 1142 en tu red
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false
spring.jpa.properties.hibernate.boot.allow_jdbc_metadata_access_error=true

# ==============================================================
# CONFIGURACIÓN DE LOGS (Modo Limpio)
# ==============================================================
logging.level.org.springframework.jdbc=INFO
logging.level.com.zaxxer.hikari=INFO
logging.level.org.hibernate.SQL=INFO
# Mantenemos esto en 0 para evitar esperas largas si la VPN falla
spring.datasource.hikari.initialization-fail-timeout=0

